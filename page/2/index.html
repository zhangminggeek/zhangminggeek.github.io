<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css">


  <meta name="keywords" content="Hexo, NexT">








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2">






<meta name="description" content="ä¸€æšå‰ç«¯æ‰“å­—å‘˜">
<meta property="og:type" content="website">
<meta property="og:title" content="æ„ŸåŠ¨å¸¸åœ¨">
<meta property="og:url" content="https://zhangminggeek.github.io/page/2/index.html">
<meta property="og:site_name" content="æ„ŸåŠ¨å¸¸åœ¨">
<meta property="og:description" content="ä¸€æšå‰ç«¯æ‰“å­—å‘˜">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="æ„ŸåŠ¨å¸¸åœ¨">
<meta name="twitter:description" content="ä¸€æšå‰ç«¯æ‰“å­—å‘˜">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://zhangminggeek.github.io/page/2/">





  <title>æ„ŸåŠ¨å¸¸åœ¨</title>
  














</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">æ„ŸåŠ¨å¸¸åœ¨</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            åˆ†ç±»
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            å½’æ¡£
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            æ ‡ç­¾
          </a>
        </li>
      
        
        <li class="menu-item menu-item-commonweal">
          <a href="/404/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br>
            
            å…¬ç›Š404
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://zhangminggeek.github.io/2018/11/12/cjqtnag8s0007tycbdeospo3n/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zhangming">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="æ„ŸåŠ¨å¸¸åœ¨">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/12/cjqtnag8s0007tycbdeospo3n/" itemprop="url">JavaScriptä¸­çš„this</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-11-12T10:10:22+08:00">
                2018-11-12
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaScript/" itemprop="url" rel="index">
                    <span itemprop="name">JavaScript</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  1kå­—
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  4åˆ†é’Ÿ
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&emsp;&emsp;<strong>thisæ˜¯åœ¨æ‰§è¡Œä¸Šä¸‹æ–‡åˆ›å»ºæ—¶ç¡®å®šçš„ä¸€ä¸ªåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ä¸å¯æ›´æ”¹çš„å˜é‡ã€‚</strong>æ‰€è°“æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œå°±æ˜¯JavaScriptå¼•æ“åœ¨æ‰§è¡Œä¸€æ®µä»£ç ä¹‹å‰å°†ä»£ç å†…éƒ¨ä¼šç”¨åˆ°çš„ä¸€äº›å˜é‡ã€å‡½æ•°ã€thisæå‰å£°æ˜ç„¶åä¿å­˜åœ¨å˜é‡å¯¹è±¡ä¸­çš„è¿‡ç¨‹ã€‚è¿™ä¸ªâ€™ä»£ç ç‰‡æ®µâ€™åŒ…æ‹¬ï¼šå…¨å±€ä»£ç (scriptæ ‡ç­¾å†…éƒ¨çš„ä»£ç )ã€å‡½æ•°å†…éƒ¨ä»£ç ã€evalå†…éƒ¨ä»£ç ã€‚è€Œæˆ‘ä»¬æ‰€ç†ŸçŸ¥çš„ä½œç”¨åŸŸé“¾ä¹Ÿä¼šåœ¨ä¿å­˜åœ¨è¿™é‡Œï¼Œä»¥ä¸€ä¸ªç±»æ•°ç»„çš„å½¢å¼å­˜å‚¨åœ¨å¯¹åº”å‡½æ•°çš„[[Scopes]]å±æ€§ä¸­ã€‚<br>&emsp;&emsp;thisåªåœ¨å‡½æ•°è°ƒç”¨é˜¶æ®µç¡®å®šï¼Œä¹Ÿå°±æ˜¯æ‰§è¡Œä¸Šä¸‹æ–‡åˆ›å»ºçš„é˜¶æ®µè¿›è¡Œèµ‹å€¼ï¼Œä¿å­˜åœ¨å˜é‡å¯¹è±¡ä¸­ã€‚è¿™ä¸ªç‰¹æ€§ä¹Ÿå¯¼è‡´äº†thisçš„å¤šå˜æ€§:ğŸ™‚å³å½“å‡½æ•°åœ¨ä¸åŒçš„è°ƒç”¨æ–¹å¼ä¸‹éƒ½å¯èƒ½ä¼šå¯¼è‡´thisçš„å€¼ä¸åŒã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params"></span>) </span>&#123; </span><br><span class="line"><span class="meta">    'use strict'</span>;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.a;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ğŸ‘†ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼ŒthisæŒ‡å‘undefined;<br>ğŸ‘†éä¸¥æ ¼æ¨¡å¼ä¸‹ï¼ŒthisæŒ‡å‘window;</p>
<p>&emsp;&emsp;å½“å‡½æ•°ç‹¬ç«‹è°ƒç”¨çš„æ—¶å€™ï¼Œåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹å®ƒçš„thisæŒ‡å‘undefinedï¼Œåœ¨éä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œå½“thisæŒ‡å‘undefinedçš„æ—¶å€™ï¼Œè‡ªåŠ¨æŒ‡å‘å…¨å±€å¯¹è±¡(æµè§ˆå™¨ä¸­æ˜¯windowï¼Œnode ä¸­æ˜¯ global)ã€‚</p>
<h2 id="ç›´æ¥è°ƒç”¨"><a href="#ç›´æ¥è°ƒç”¨" class="headerlink" title="ç›´æ¥è°ƒç”¨"></a>ç›´æ¥è°ƒç”¨</h2><p>å½“å‡½æ•°ç‹¬ç«‹è°ƒç”¨çš„æ—¶å€™ï¼Œåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹å®ƒçš„thisæŒ‡å‘undefinedï¼Œåœ¨éä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œå½“thisæŒ‡å‘undefinedçš„æ—¶å€™ï¼Œè‡ªåŠ¨æŒ‡å‘å…¨å±€å¯¹è±¡(æµè§ˆå™¨ä¸­å°±æ˜¯window)ã€‚</p>
<h2 id="ä½œä¸ºå¯¹è±¡çš„æ–¹æ³•"><a href="#ä½œä¸ºå¯¹è±¡çš„æ–¹æ³•" class="headerlink" title="ä½œä¸ºå¯¹è±¡çš„æ–¹æ³•"></a>ä½œä¸ºå¯¹è±¡çš„æ–¹æ³•</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>; </span><br><span class="line"><span class="keyword">var</span> obj = &#123; </span><br><span class="line">    a: <span class="number">2</span>, </span><br><span class="line">    b: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.a; </span><br><span class="line">    &#125; </span><br><span class="line">&#125; </span><br><span class="line"><span class="built_in">console</span>.log(obj.b())<span class="comment">//2</span></span><br></pre></td></tr></table></figure>
<p>ğŸ‘†bæ‰€å¼•ç”¨çš„åŒ¿åå‡½æ•°ä½œä¸ºobjçš„ä¸€ä¸ªæ–¹æ³•è°ƒç”¨ï¼Œè¿™æ—¶å€™thisæŒ‡å‘è°ƒç”¨å®ƒçš„å¯¹è±¡ã€‚è¿™é‡Œä¹Ÿå°±æ˜¯objã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>; </span><br><span class="line"><span class="keyword">var</span> obj = &#123; </span><br><span class="line">    a: <span class="number">2</span>,</span><br><span class="line">    b: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.a; </span><br><span class="line">    &#125; </span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">var</span> t = obj.b; </span><br><span class="line"><span class="built_in">console</span>.log(t());<span class="comment">//1</span></span><br></pre></td></tr></table></figure>
<p>å¦‚ä¸Šï¼Œtå‡½æ•°æ‰§è¡Œç»“æœç«Ÿç„¶æ˜¯å…¨å±€å˜é‡1ï¼Œä¸ºå•¥å‘¢ï¼Ÿè¿™å°±æ¶‰åŠJavascriptçš„å†…å­˜ç©ºé—´äº†ï¼Œå°±æ˜¯è¯´ï¼Œobjå¯¹è±¡çš„bå±æ€§å­˜å‚¨çš„æ˜¯å¯¹è¯¥åŒ¿åå‡½æ•°çš„ä¸€ä¸ªå¼•ç”¨ï¼Œå¯ä»¥ç†è§£ä¸ºä¸€ä¸ªæŒ‡é’ˆã€‚å½“èµ‹å€¼ç»™tçš„æ—¶å€™ï¼Œå¹¶æ²¡æœ‰å•ç‹¬å¼€è¾Ÿå†…å­˜ç©ºé—´å­˜å‚¨æ–°çš„å‡½æ•°ï¼Œè€Œæ˜¯è®©tå­˜å‚¨äº†ä¸€ä¸ªæŒ‡é’ˆï¼Œè¯¥æŒ‡é’ˆæŒ‡å‘è¿™ä¸ªå‡½æ•°ã€‚ç›¸å½“äºæ‰§è¡Œäº†è¿™ä¹ˆä¸€æ®µä¼ªä»£ç  ğŸ‘‡ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>; </span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params"></span>) </span>&#123;<span class="comment">//æ­¤å‡½æ•°å­˜å‚¨åœ¨å †ä¸­ </span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.a; </span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">var</span> obj = &#123; </span><br><span class="line">    a: <span class="number">2</span>, </span><br><span class="line">    b: fun <span class="comment">//bæŒ‡å‘funå‡½æ•° </span></span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">var</span> t = fun;<span class="comment">//å˜é‡tæŒ‡å‘funå‡½æ•° </span></span><br><span class="line"><span class="built_in">console</span>.log(t());<span class="comment">//1</span></span><br></pre></td></tr></table></figure></p>
<h2 id="ä½¿ç”¨applyï¼Œcall"><a href="#ä½¿ç”¨applyï¼Œcall" class="headerlink" title="ä½¿ç”¨applyï¼Œcall"></a>ä½¿ç”¨applyï¼Œcall</h2><p>ä¿®æ”¹thisæŒ‡å‘ä¸ºç»™å®šå€¼<br>apply å’Œ call åŸºæœ¬ç±»ä¼¼ï¼Œä»–ä»¬çš„åŒºåˆ«åªæ˜¯ä¼ å…¥çš„å‚æ•°ä¸åŒã€‚call æ–¹æ³•æ¥å—çš„æ˜¯è‹¥å¹²ä¸ªå‚æ•°åˆ—è¡¨ï¼Œè€Œ apply æ¥æ”¶çš„æ˜¯ä¸€ä¸ªåŒ…å«å¤šä¸ªå‚æ•°çš„æ•°ç»„ã€‚<br>applyçš„è¯­æ³•ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fun.apply(thisArg, [argsArray])</span><br></pre></td></tr></table></figure></p>
<p>callçš„è¯­æ³•ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fun.call(thisArg[, arg1[, arg2[, ...]]])</span><br></pre></td></tr></table></figure></p>
<p>call() å’Œ apply() æ˜¯é¢„å®šä¹‰çš„å‡½æ•°æ–¹æ³•ã€‚ ä¸¤ä¸ªæ–¹æ³•å¯ç”¨äºè°ƒç”¨å‡½æ•°ï¼Œä¸¤ä¸ªæ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°å¿…é¡»æ˜¯å¯¹è±¡æœ¬èº«<br>åœ¨ JavaScript ä¸¥æ ¼æ¨¡å¼(strict mode)ä¸‹, åœ¨è°ƒç”¨å‡½æ•°æ—¶ç¬¬ä¸€ä¸ªå‚æ•°ä¼šæˆä¸º this çš„å€¼ï¼Œ å³ä½¿è¯¥å‚æ•°ä¸æ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚<br>åœ¨ JavaScript éä¸¥æ ¼æ¨¡å¼(non-strict mode)ä¸‹, å¦‚æœç¬¬ä¸€ä¸ªå‚æ•°çš„å€¼æ˜¯ null æˆ– undefined, å®ƒå°†ä½¿ç”¨å…¨å±€å¯¹è±¡æ›¿ä»£ã€‚</p>
<h2 id="ä½œä¸ºæ„é€ å‡½æ•°"><a href="#ä½œä¸ºæ„é€ å‡½æ•°" class="headerlink" title="ä½œä¸ºæ„é€ å‡½æ•°"></a>ä½œä¸ºæ„é€ å‡½æ•°</h2><p>ä½¿ç”¨newå…³é”®å­—è°ƒç”¨å‡½æ•°çš„è¿‡ç¨‹ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> foo = <span class="keyword">new</span> Func() &#123;</span><br><span class="line">    <span class="comment">// åˆ›å»ºç©ºå¯¹è±¡</span></span><br><span class="line">    <span class="keyword">var</span> obj = &#123;&#125;;</span><br><span class="line">    <span class="comment">// è®¾ç½®æ–°å¯¹è±¡çš„constructorå±æ€§ä¸ºæ„é€ å‡½æ•°çš„åç§°ï¼Œè®¾ç½®æ–°å¯¹è±¡çš„__proto__å±æ€§æŒ‡å‘æ„é€ å‡½æ•°prototypeå¯¹è±¡;</span></span><br><span class="line">    obj.__proto__ = Func.prototype;</span><br><span class="line">    <span class="comment">// ä½¿ç”¨æ–°å¯¹è±¡è°ƒç”¨å‡½æ•°ï¼Œå‡½æ•°ä¸­çš„thisè¢«æŒ‡å‘æ–°å®ä¾‹å¯¹è±¡;</span></span><br><span class="line">    <span class="keyword">var</span> result = Func.apply(obj, <span class="built_in">arguments</span>);</span><br><span class="line">    <span class="comment">// ç¡®ä¿ new å‡ºæ¥çš„æ˜¯ä¸ªå¯¹è±¡ è¿”å›çš„å€¼æ˜¯ä»€ä¹ˆå°±returnä»€ä¹ˆ</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">typeof</span> result === <span class="string">'object'</span> ? result : obj;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="ç®­å¤´å‡½æ•°"><a href="#ç®­å¤´å‡½æ•°" class="headerlink" title="ç®­å¤´å‡½æ•°"></a>ç®­å¤´å‡½æ•°</h2><p><strong>ç®­å¤´å‡½æ•°ä¼šæ•è·å…¶æ‰€åœ¨ä¸Šä¸‹æ–‡çš„ this å€¼ï¼Œä½œä¸ºè‡ªå·±çš„ this å€¼</strong>ï¼Œä¹Ÿå°±æ˜¯è¯´ç®­å¤´å‡½æ•°çš„thisåœ¨è¯æ³•å±‚é¢å°±å®Œæˆäº†ç»‘å®šã€‚applyï¼Œcallæ–¹æ³•åªæ˜¯ä¼ å…¥å‚æ•°ï¼Œå´æ”¹ä¸äº†thisã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>; </span><br><span class="line"><span class="keyword">var</span> obj = &#123; </span><br><span class="line">    a: <span class="number">2</span> </span><br><span class="line">&#125;; </span><br><span class="line"><span class="keyword">var</span> fun = <span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="keyword">this</span>.a); </span><br><span class="line">fun();<span class="comment">//1 </span></span><br><span class="line">fun.call(obj)<span class="comment">//1</span></span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://zhangminggeek.github.io/2018/11/11/cjqtnagcu000ztycb2ys6haex/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zhangming">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="æ„ŸåŠ¨å¸¸åœ¨">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/11/cjqtnagcu000ztycb2ys6haex/" itemprop="url">webpackå­¦ä¹ ç¬”è®°ï¼ˆå››ï¼‰ï¼šæ’ä»¶ã€é…ç½®</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-11-11T21:48:34+08:00">
                2018-11-11
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/webpack/" itemprop="url" rel="index">
                    <span itemprop="name">webpack</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  1.2kå­—
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  4åˆ†é’Ÿ
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="æ’ä»¶"><a href="#æ’ä»¶" class="headerlink" title="æ’ä»¶"></a>æ’ä»¶</h1><p>æ’ä»¶ç›®çš„åœ¨äºè§£å†³ loader æ— æ³•å®ç°çš„å…¶ä»–äº‹ã€‚</p>
<h2 id="å‰–æ"><a href="#å‰–æ" class="headerlink" title="å‰–æ"></a>å‰–æ</h2><p>webpack æ’ä»¶æ˜¯ä¸€ä¸ªå…·æœ‰ apply å±æ€§çš„ JavaScript å¯¹è±¡ã€‚apply å±æ€§ä¼šè¢« webpack compiler è°ƒç”¨ï¼Œå¹¶ä¸” compiler å¯¹è±¡å¯åœ¨æ•´ä¸ªç¼–è¯‘ç”Ÿå‘½å‘¨æœŸè®¿é—®ã€‚<br><strong>ConsoleLogOnBuildWebpackPlugin.js</strong><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> pluginName = <span class="string">'ConsoleLogOnBuildWebpackPlugin'</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ConsoleLogOnBuildWebpackPlugin</span> </span>&#123;</span><br><span class="line">    apply(compiler) &#123;</span><br><span class="line">        compiler.hooks.run.tap(pluginName, compilation =&gt; &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">"webpack æ„å»ºè¿‡ç¨‹å¼€å§‹ï¼"</span>);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="compiler-é’©å­"><a href="#compiler-é’©å­" class="headerlink" title="compiler é’©å­"></a>compiler é’©å­</h3><p>Compiler æ¨¡å—æ˜¯ webpack çš„æ”¯æŸ±å¼•æ“ï¼Œå®ƒé€šè¿‡ CLI æˆ– Node API ä¼ é€’çš„æ‰€æœ‰é€‰é¡¹ï¼Œåˆ›å»ºå‡ºä¸€ä¸ª compilation å®ä¾‹ã€‚å®ƒæ‰©å±•(extend)è‡ª Tapable ç±»ï¼Œä»¥ä¾¿æ³¨å†Œå’Œè°ƒç”¨æ’ä»¶ã€‚å¤§å¤šæ•°é¢å‘ç”¨æˆ·çš„æ’ä»¶é¦–å…ˆä¼šåœ¨ Compiler ä¸Šæ³¨å†Œã€‚<br>compiler hook çš„ tap æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œåº”è¯¥æ˜¯é©¼å³°å¼å‘½åçš„æ’ä»¶åç§°ã€‚å»ºè®®ä¸ºæ­¤ä½¿ç”¨ä¸€ä¸ªå¸¸é‡ï¼Œä»¥ä¾¿å®ƒå¯ä»¥åœ¨æ‰€æœ‰ hook ä¸­å¤ç”¨</p>
<blockquote>
<p>æ­¤æ¨¡å—ä¼šæš´éœ²åœ¨ webpack.Compilerï¼Œå¯ä»¥ç›´æ¥é€šè¿‡è¿™ç§æ–¹å¼ä½¿ç”¨ã€‚</p>
</blockquote>
<h4 id="ç›‘å¬"><a href="#ç›‘å¬" class="headerlink" title="ç›‘å¬"></a>ç›‘å¬</h4><p>Compiler æ”¯æŒå¯ä»¥ç›‘æ§æ–‡ä»¶ç³»ç»Ÿçš„ç›‘å¬(watching)æœºåˆ¶ï¼Œå¹¶ä¸”åœ¨æ–‡ä»¶ä¿®æ”¹æ—¶é‡æ–°ç¼–è¯‘ã€‚å½“å¤„äºç›‘å¬æ¨¡å¼(watch mode)æ—¶ï¼Œcompiler ä¼šè§¦å‘è¯¸å¦‚ watchRun, watchClose å’Œ invalid ç­‰é¢å¤–çš„äº‹ä»¶ã€‚é€šå¸¸ç”¨äºå¼€å‘ç¯å¢ƒä¸­ä½¿ç”¨ï¼Œä¹Ÿå¸¸å¸¸ä¼šåœ¨ webpack-dev-server è¿™äº›å·¥å…·çš„åº•å±‚ä¹‹ä¸‹è°ƒç”¨ï¼Œç”±æ­¤å¼€å‘äººå‘˜æ— é¡»æ¯æ¬¡éƒ½ä½¿ç”¨æ‰‹åŠ¨æ–¹å¼é‡æ–°ç¼–è¯‘ã€‚è¿˜å¯ä»¥é€šè¿‡ CLI è¿›å…¥ç›‘å¬æ¨¡å¼ã€‚</p>
<h4 id="ç›¸å…³é’©å­"><a href="#ç›¸å…³é’©å­" class="headerlink" title="ç›¸å…³é’©å­"></a>ç›¸å…³é’©å­</h4><p>ä»¥ä¸‹ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ï¼Œæ˜¯ç”± compiler æš´éœ²ï¼Œå¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹å¼è®¿é—®ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">compiler.hooks.someHook.tap(...)</span><br></pre></td></tr></table></figure></p>
<h2 id="ç”¨æ³•"><a href="#ç”¨æ³•" class="headerlink" title="ç”¨æ³•"></a>ç”¨æ³•</h2><p>ç”±äºæ’ä»¶å¯ä»¥æºå¸¦å‚æ•°/é€‰é¡¹ï¼Œä½ å¿…é¡»åœ¨ webpack é…ç½®ä¸­ï¼Œå‘ plugins å±æ€§ä¼ å…¥ new å®ä¾‹ã€‚</p>
<h3 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h3><p><strong>webpack.config.js</strong><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">'html-webpack-plugin'</span>); <span class="comment">//é€šè¿‡ npm å®‰è£…</span></span><br><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>); <span class="comment">//è®¿é—®å†…ç½®çš„æ’ä»¶</span></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  entry: <span class="string">'./path/to/my/entry/file.js'</span>,</span><br><span class="line">  output: &#123;</span><br><span class="line">    filename: <span class="string">'my-first-webpack.bundle.js'</span>,</span><br><span class="line">    path: path.resolve(__dirname, <span class="string">'dist'</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.(js|jsx)$/</span>,</span><br><span class="line">        use: <span class="string">'babel-loader'</span></span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> webpack.optimize.UglifyJsPlugin(),</span><br><span class="line">    <span class="keyword">new</span> HtmlWebpackPlugin(&#123;<span class="attr">template</span>: <span class="string">'./src/index.html'</span>&#125;)</span><br><span class="line">  ]</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = config;</span><br></pre></td></tr></table></figure></p>
<h3 id="Node-API"><a href="#Node-API" class="headerlink" title="Node API"></a>Node API</h3><p><strong>some-node-script.js</strong><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>); <span class="comment">//è®¿é—® webpack è¿è¡Œæ—¶(runtime)</span></span><br><span class="line">  <span class="keyword">const</span> configuration = <span class="built_in">require</span>(<span class="string">'./webpack.config.js'</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> compiler = webpack(configuration);</span><br><span class="line">  compiler.apply(<span class="keyword">new</span> webpack.ProgressPlugin());</span><br><span class="line"></span><br><span class="line">  compiler.run(<span class="function"><span class="keyword">function</span>(<span class="params">err, stats</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure></p>
<h1 id="é…ç½®-1"><a href="#é…ç½®-1" class="headerlink" title="é…ç½®"></a>é…ç½®</h1><p>å¾ˆå°‘æœ‰ webpack é…ç½®çœ‹èµ·æ¥å¾ˆå®Œå…¨ç›¸åŒï¼Œè¿™æ˜¯å› ä¸º webpack çš„é…ç½®æ–‡ä»¶ï¼Œæ˜¯å¯¼å‡ºä¸€ä¸ªå¯¹è±¡çš„ JavaScript æ–‡ä»¶ã€‚</p>
<p>å› ä¸º webpack é…ç½®æ˜¯æ ‡å‡†çš„ Node.js CommonJS æ¨¡å—ï¼Œä½ å¯ä»¥åšåˆ°ä»¥ä¸‹äº‹æƒ…ï¼š</p>
<ul>
<li>é€šè¿‡ require(â€¦) å¯¼å…¥å…¶ä»–æ–‡ä»¶</li>
<li>é€šè¿‡ require(â€¦) ä½¿ç”¨ npm çš„å·¥å…·å‡½æ•°</li>
<li>ä½¿ç”¨ JavaScript æ§åˆ¶æµè¡¨è¾¾å¼ï¼Œä¾‹å¦‚ ?: æ“ä½œç¬¦</li>
<li>å¯¹å¸¸ç”¨å€¼ä½¿ç”¨å¸¸é‡æˆ–å˜é‡</li>
<li>ç¼–å†™å¹¶æ‰§è¡Œå‡½æ•°æ¥ç”Ÿæˆéƒ¨åˆ†é…ç½®</li>
</ul>
<p>è™½ç„¶æŠ€æœ¯ä¸Šå¯è¡Œï¼Œä½†åº”é¿å…ä»¥ä¸‹åšæ³•ï¼š</p>
<ul>
<li>åœ¨ä½¿ç”¨ webpack å‘½ä»¤è¡Œæ¥å£(CLI)ï¼ˆåº”è¯¥ç¼–å†™è‡ªå·±çš„å‘½ä»¤è¡Œæ¥å£(CLI)ï¼Œæˆ–ä½¿ç”¨ â€“envï¼‰æ—¶ï¼Œè®¿é—®å‘½ä»¤è¡Œæ¥å£(CLI)å‚æ•°</li>
<li>å¯¼å‡ºä¸ç¡®å®šçš„å€¼ï¼ˆè°ƒç”¨ webpack ä¸¤æ¬¡åº”è¯¥äº§ç”ŸåŒæ ·çš„è¾“å‡ºæ–‡ä»¶ï¼‰</li>
<li>ç¼–å†™å¾ˆé•¿çš„é…ç½®ï¼ˆåº”è¯¥å°†é…ç½®æ‹†åˆ†ä¸ºå¤šä¸ªæ–‡ä»¶ï¼‰</li>
</ul>
<h2 id="åŸºæœ¬é…ç½®"><a href="#åŸºæœ¬é…ç½®" class="headerlink" title="åŸºæœ¬é…ç½®"></a>åŸºæœ¬é…ç½®</h2><p><strong>webpack.config.js</strong><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  mode: <span class="string">'development'</span>,</span><br><span class="line">  entry: <span class="string">'./foo.js'</span>,</span><br><span class="line">  output: &#123;</span><br><span class="line">    path: path.resolve(__dirname, <span class="string">'dist'</span>),</span><br><span class="line">    filename: <span class="string">'foo.bundle.js'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h2 id="å¤šä¸ªTarget"><a href="#å¤šä¸ªTarget" class="headerlink" title="å¤šä¸ªTarget"></a>å¤šä¸ªTarget</h2><h3 id="å¯¼å‡ºä¸ºä¸€ä¸ªå‡½æ•°"><a href="#å¯¼å‡ºä¸ºä¸€ä¸ªå‡½æ•°" class="headerlink" title="å¯¼å‡ºä¸ºä¸€ä¸ªå‡½æ•°"></a>å¯¼å‡ºä¸ºä¸€ä¸ªå‡½æ•°</h3><p>æœ€ç»ˆï¼Œä½ ä¼šå‘ç°éœ€è¦åœ¨å¼€å‘å’Œç”Ÿäº§æ„å»ºä¹‹é—´ï¼Œæ¶ˆé™¤ webpack.config.js çš„å·®å¼‚ã€‚ï¼ˆè‡³å°‘ï¼‰æœ‰ä¸¤ç§é€‰é¡¹ï¼š<br>ä½œä¸ºå¯¼å‡ºä¸€ä¸ªé…ç½®å¯¹è±¡çš„æ›¿ä»£ï¼Œè¿˜æœ‰ä¸€ç§å¯é€‰çš„å¯¼å‡ºæ–¹å¼æ˜¯ï¼Œä» webpack é…ç½®æ–‡ä»¶ä¸­å¯¼å‡ºä¸€ä¸ªå‡½æ•°ã€‚è¯¥å‡½æ•°åœ¨è°ƒç”¨æ—¶ï¼Œå¯ä¼ å…¥ä¸¤ä¸ªå‚æ•°ï¼š</p>
<ul>
<li>ç¯å¢ƒå¯¹è±¡(environment)ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ã€‚</li>
<li>ä¸€ä¸ªé€‰é¡¹ map å¯¹è±¡ï¼ˆargvï¼‰ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ã€‚è¿™ä¸ªå¯¹è±¡æè¿°äº†ä¼ é€’ç»™ webpack çš„é€‰é¡¹ï¼Œå¹¶ä¸”å…·æœ‰ output-filename å’Œ optimize-minimize ç­‰ keyã€‚<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">-<span class="built_in">module</span>.exports = &#123;</span><br><span class="line">+<span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span>(<span class="params">env, argv</span>) </span>&#123;</span><br><span class="line">+  <span class="keyword">return</span> &#123;</span><br><span class="line">+    mode: env.production ? <span class="string">'production'</span> : <span class="string">'development'</span>,</span><br><span class="line">+    devtool: env.production ? <span class="string">'source-maps'</span> : <span class="string">'eval'</span>,</span><br><span class="line">     plugins: [</span><br><span class="line">       <span class="keyword">new</span> webpack.optimize.UglifyJsPlugin(&#123;</span><br><span class="line">+        compress: argv[<span class="string">'optimize-minimize'</span>] <span class="comment">// åªæœ‰ä¼ å…¥ -p æˆ– --optimize-minimize</span></span><br><span class="line">       &#125;)</span><br><span class="line">     ]</span><br><span class="line">+  &#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="å¯¼å‡ºä¸€ä¸ªPromise"><a href="#å¯¼å‡ºä¸€ä¸ªPromise" class="headerlink" title="å¯¼å‡ºä¸€ä¸ªPromise"></a>å¯¼å‡ºä¸€ä¸ªPromise</h3><p>webpack å°†è¿è¡Œç”±é…ç½®æ–‡ä»¶å¯¼å‡ºçš„å‡½æ•°ï¼Œå¹¶ä¸”ç­‰å¾… Promise è¿”å›ã€‚ä¾¿äºéœ€è¦å¼‚æ­¥åœ°åŠ è½½æ‰€éœ€çš„é…ç½®å˜é‡ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      resolve(&#123;</span><br><span class="line">        entry: <span class="string">'./app.js'</span>,</span><br><span class="line">        <span class="comment">/* ... */</span></span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;, <span class="number">5000</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="å¯¼å‡ºå¤šä¸ªé…ç½®å¯¹è±¡"><a href="#å¯¼å‡ºå¤šä¸ªé…ç½®å¯¹è±¡" class="headerlink" title="å¯¼å‡ºå¤šä¸ªé…ç½®å¯¹è±¡"></a>å¯¼å‡ºå¤šä¸ªé…ç½®å¯¹è±¡</h3><p>ä½œä¸ºå¯¼å‡ºä¸€ä¸ªé…ç½®å¯¹è±¡/é…ç½®å‡½æ•°çš„æ›¿ä»£ï¼Œä½ å¯èƒ½éœ€è¦å¯¼å‡ºå¤šä¸ªé…ç½®å¯¹è±¡ï¼ˆä» webpack 3.1.0 å¼€å§‹æ”¯æŒå¯¼å‡ºå¤šä¸ªå‡½æ•°ï¼‰ã€‚å½“è¿è¡Œ webpack æ—¶ï¼Œæ‰€æœ‰çš„é…ç½®å¯¹è±¡éƒ½ä¼šæ„å»ºã€‚ä¾‹å¦‚ï¼Œå¯¼å‡ºå¤šä¸ªé…ç½®å¯¹è±¡ï¼Œå¯¹äºé’ˆå¯¹å¤šä¸ªæ„å»ºç›®æ ‡ï¼ˆä¾‹å¦‚ AMD å’Œ CommonJSï¼‰æ‰“åŒ…ä¸€ä¸ª library éå¸¸æœ‰ç”¨ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = [&#123;</span><br><span class="line">  output: &#123;</span><br><span class="line">    filename: <span class="string">'./dist-amd.js'</span>,</span><br><span class="line">    libraryTarget: <span class="string">'amd'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  entry: <span class="string">'./app.js'</span>,</span><br><span class="line">  mode: <span class="string">'production'</span>,</span><br><span class="line">&#125;, &#123;</span><br><span class="line">  output: &#123;</span><br><span class="line">    filename: <span class="string">'./dist-commonjs.js'</span>,</span><br><span class="line">    libraryTarget: <span class="string">'commonjs'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  entry: <span class="string">'./app.js'</span>,</span><br><span class="line">  mode: <span class="string">'production'</span>,</span><br><span class="line">&#125;]</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://zhangminggeek.github.io/2018/11/10/cjqtnagcr000xtycbmo1tkjq5/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zhangming">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="æ„ŸåŠ¨å¸¸åœ¨">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/10/cjqtnagcr000xtycbmo1tkjq5/" itemprop="url">webpackå­¦ä¹ ç¬”è®°ï¼ˆä¸‰ï¼‰ï¼šæ¨¡å¼ã€loader</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-11-10T10:00:08+08:00">
                2018-11-10
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/webpack/" itemprop="url" rel="index">
                    <span itemprop="name">webpack</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  998å­—
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  4åˆ†é’Ÿ
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="æ¨¡å¼"><a href="#æ¨¡å¼" class="headerlink" title="æ¨¡å¼"></a>æ¨¡å¼</h1><h2 id="ç”¨æ³•"><a href="#ç”¨æ³•" class="headerlink" title="ç”¨æ³•"></a>ç”¨æ³•</h2><p>åªåœ¨é…ç½®ä¸­æä¾› mode é€‰é¡¹ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  mode: <span class="string">'production'</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<p>æˆ–è€…ä» CLI å‚æ•°ä¸­ä¼ é€’ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">webpack --mode=production</span><br></pre></td></tr></table></figure></p>
<p>æ”¯æŒä»¥ä¸‹å­—ç¬¦ä¸²å€¼ï¼š</p>
<table>
<thead>
<tr>
<th>é€‰é¡¹</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td>development</td>
<td>ä¼šå°† process.env.NODE_ENV çš„å€¼è®¾ä¸º developmentã€‚å¯ç”¨ NamedChunksPlugin å’Œ NamedModulesPluginã€‚</td>
</tr>
<tr>
<td>production</td>
<td>ä¼šå°† process.env.NODE_ENV çš„å€¼è®¾ä¸º productionã€‚å¯ç”¨ FlagDependencyUsagePlugin, FlagIncludedChunksPlugin, ModuleConcatenationPlugin, NoEmitOnErrorsPlugin, OccurrenceOrderPlugin, SideEffectsFlagPlugin å’Œ UglifyJsPlugin.</td>
</tr>
</tbody>
</table>
<blockquote>
<p>è®°ä½ï¼Œåªè®¾ç½® NODE_ENVï¼Œåˆ™ä¸ä¼šè‡ªåŠ¨è®¾ç½® modeã€‚</p>
</blockquote>
<h2 id="mode-development"><a href="#mode-development" class="headerlink" title="mode: development"></a>mode: development</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.development.config.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">+ mode: <span class="string">'development'</span></span><br><span class="line">- plugins: [</span><br><span class="line">-   <span class="keyword">new</span> webpack.NamedModulesPlugin(),</span><br><span class="line">-   <span class="keyword">new</span> webpack.DefinePlugin(&#123; <span class="string">"process.env.NODE_ENV"</span>: <span class="built_in">JSON</span>.stringify(<span class="string">"development"</span>) &#125;),</span><br><span class="line">- ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="mode-production"><a href="#mode-production" class="headerlink" title="mode: production"></a>mode: production</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.production.config.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">+  mode: <span class="string">'production'</span>,</span><br><span class="line">-  plugins: [</span><br><span class="line">-    <span class="keyword">new</span> UglifyJsPlugin(<span class="comment">/* ... */</span>),</span><br><span class="line">-    <span class="keyword">new</span> webpack.DefinePlugin(&#123; <span class="string">"process.env.NODE_ENV"</span>: <span class="built_in">JSON</span>.stringify(<span class="string">"production"</span>) &#125;),</span><br><span class="line">-    <span class="keyword">new</span> webpack.optimize.ModuleConcatenationPlugin(),</span><br><span class="line">-    <span class="keyword">new</span> webpack.NoEmitOnErrorsPlugin()</span><br><span class="line">-  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="loader"><a href="#loader" class="headerlink" title="loader"></a>loader</h1><p>loader ç”¨äºå¯¹æ¨¡å—çš„æºä»£ç è¿›è¡Œè½¬æ¢ã€‚loader å¯ä»¥ä½¿ä½ åœ¨ import æˆ–â€åŠ è½½â€æ¨¡å—æ—¶é¢„å¤„ç†æ–‡ä»¶ã€‚å› æ­¤ï¼Œloader ç±»ä¼¼äºå…¶ä»–æ„å»ºå·¥å…·ä¸­â€œä»»åŠ¡(task)â€ï¼Œå¹¶æä¾›äº†å¤„ç†å‰ç«¯æ„å»ºæ­¥éª¤çš„å¼ºå¤§æ–¹æ³•ã€‚loader å¯ä»¥å°†æ–‡ä»¶ä»ä¸åŒçš„è¯­è¨€ï¼ˆå¦‚ TypeScriptï¼‰è½¬æ¢ä¸º JavaScriptï¼Œæˆ–å°†å†…è”å›¾åƒè½¬æ¢ä¸º data URLã€‚loader ç”šè‡³å…è®¸ä½ ç›´æ¥åœ¨ JavaScript æ¨¡å—ä¸­ import CSSæ–‡ä»¶ï¼</p>
<h2 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h2><p>ä¾‹å¦‚ï¼Œä½ å¯ä»¥ä½¿ç”¨ loader å‘Šè¯‰ webpack åŠ è½½ CSS æ–‡ä»¶ï¼Œæˆ–è€…å°† TypeScript è½¬ä¸º JavaScriptã€‚ä¸ºæ­¤ï¼Œé¦–å…ˆå®‰è£…ç›¸å¯¹åº”çš„ loaderï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev css-loader</span><br><span class="line">npm install --save-dev ts-loader</span><br></pre></td></tr></table></figure></p>
<p>ç„¶åæŒ‡ç¤º webpack å¯¹æ¯ä¸ª .css ä½¿ç”¨ css-loaderï¼Œä»¥åŠå¯¹æ‰€æœ‰ .ts æ–‡ä»¶ä½¿ç”¨ ts-loaderï¼š<br><strong>webpack.config.js</strong><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123; <span class="attr">test</span>: <span class="regexp">/\.css$/</span>, <span class="attr">use</span>: <span class="string">'css-loader'</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">test</span>: <span class="regexp">/\.ts$/</span>, <span class="attr">use</span>: <span class="string">'ts-loader'</span> &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h2 id="ä½¿ç”¨loader"><a href="#ä½¿ç”¨loader" class="headerlink" title="ä½¿ç”¨loader"></a>ä½¿ç”¨loader</h2><p>åœ¨ä½ çš„åº”ç”¨ç¨‹åºä¸­ï¼Œæœ‰ä¸‰ç§ä½¿ç”¨ loader çš„æ–¹å¼ï¼š</p>
<ul>
<li>é…ç½®ï¼ˆæ¨èï¼‰ï¼šåœ¨ webpack.config.js æ–‡ä»¶ä¸­æŒ‡å®š loaderã€‚</li>
<li>å†…è”ï¼šåœ¨æ¯ä¸ª import è¯­å¥ä¸­æ˜¾å¼æŒ‡å®š loaderã€‚</li>
<li>CLIï¼šåœ¨ shell å‘½ä»¤ä¸­æŒ‡å®šå®ƒä»¬ã€‚</li>
</ul>
<h3 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h3><p>module.rules å…è®¸ä½ åœ¨ webpack é…ç½®ä¸­æŒ‡å®šå¤šä¸ª loaderã€‚ è¿™æ˜¯å±•ç¤º loader çš„ä¸€ç§ç®€æ˜æ–¹å¼ï¼Œå¹¶ä¸”æœ‰åŠ©äºä½¿ä»£ç å˜å¾—ç®€æ´ã€‚åŒæ—¶è®©ä½ å¯¹å„ä¸ª loader æœ‰ä¸ªå…¨å±€æ¦‚è§ˆï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">        use: [</span><br><span class="line">          &#123; <span class="attr">loader</span>: <span class="string">'style-loader'</span> &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            loader: <span class="string">'css-loader'</span>,</span><br><span class="line">            options: &#123;</span><br><span class="line">              modules: <span class="literal">true</span></span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="å†…è”"><a href="#å†…è”" class="headerlink" title="å†…è”"></a>å†…è”</h3><p>å¯ä»¥åœ¨ import è¯­å¥æˆ–ä»»ä½•ç­‰æ•ˆäº â€œimportâ€ çš„æ–¹å¼ä¸­æŒ‡å®š loaderã€‚ä½¿ç”¨ ! å°†èµ„æºä¸­çš„ loader åˆ†å¼€ã€‚åˆ†å¼€çš„æ¯ä¸ªéƒ¨åˆ†éƒ½ç›¸å¯¹äºå½“å‰ç›®å½•è§£æã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Styles <span class="keyword">from</span> <span class="string">'style-loader!css-loader?modules!./styles.css'</span>;</span><br></pre></td></tr></table></figure></p>
<p>é€šè¿‡å‰ç½®æ‰€æœ‰è§„åˆ™åŠä½¿ç”¨ !ï¼Œå¯ä»¥å¯¹åº”è¦†ç›–åˆ°é…ç½®ä¸­çš„ä»»æ„ loaderã€‚<br>é€‰é¡¹å¯ä»¥ä¼ é€’æŸ¥è¯¢å‚æ•°ï¼Œä¾‹å¦‚<code>?key=value&amp;foo=bar</code>ï¼Œæˆ–è€…ä¸€ä¸ª JSON å¯¹è±¡ï¼Œä¾‹å¦‚<code>?{&quot;key&quot;:&quot;value&quot;,&quot;foo&quot;:&quot;bar&quot;}</code>ã€‚</p>
<blockquote>
<p>å°½å¯èƒ½ä½¿ç”¨ module.rulesï¼Œå› ä¸ºè¿™æ ·å¯ä»¥å‡å°‘æºç ä¸­çš„ä»£ç é‡ï¼Œå¹¶ä¸”å¯ä»¥åœ¨å‡ºé”™æ—¶ï¼Œæ›´å¿«åœ°è°ƒè¯•å’Œå®šä½ loader ä¸­çš„é—®é¢˜ã€‚</p>
</blockquote>
<h3 id="CLI"><a href="#CLI" class="headerlink" title="CLI"></a>CLI</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">webpack --<span class="built_in">module</span>-bind jade-loader --<span class="built_in">module</span>-bind <span class="string">'css=style-loader!css-loader'</span></span><br></pre></td></tr></table></figure>
<p>è¿™ä¼šå¯¹ .jade æ–‡ä»¶ä½¿ç”¨ jade-loaderï¼Œå¯¹ .css æ–‡ä»¶ä½¿ç”¨ style-loader å’Œ css-loaderã€‚</p>
<h2 id="loaderç‰¹æ€§"><a href="#loaderç‰¹æ€§" class="headerlink" title="loaderç‰¹æ€§"></a>loaderç‰¹æ€§</h2><ul>
<li>loader æ”¯æŒé“¾å¼ä¼ é€’ã€‚èƒ½å¤Ÿå¯¹èµ„æºä½¿ç”¨æµæ°´çº¿(pipeline)ã€‚ä¸€ç»„é“¾å¼çš„ loader å°†æŒ‰ç…§ç›¸åçš„é¡ºåºæ‰§è¡Œã€‚loader é“¾ä¸­çš„ç¬¬ä¸€ä¸ª loader è¿”å›å€¼ç»™ä¸‹ä¸€ä¸ª loaderã€‚åœ¨æœ€åä¸€ä¸ª loaderï¼Œè¿”å› webpack æ‰€é¢„æœŸçš„ JavaScriptã€‚</li>
<li>loader å¯ä»¥æ˜¯åŒæ­¥çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯å¼‚æ­¥çš„ã€‚</li>
<li>loader è¿è¡Œåœ¨ Node.js ä¸­ï¼Œå¹¶ä¸”èƒ½å¤Ÿæ‰§è¡Œä»»ä½•å¯èƒ½çš„æ“ä½œã€‚</li>
<li>loader æ¥æ”¶æŸ¥è¯¢å‚æ•°ã€‚ç”¨äºå¯¹ loader ä¼ é€’é…ç½®ã€‚</li>
<li>loader ä¹Ÿèƒ½å¤Ÿä½¿ç”¨ options å¯¹è±¡è¿›è¡Œé…ç½®ã€‚</li>
<li>é™¤äº†ä½¿ç”¨ package.json å¸¸è§çš„ main å±æ€§ï¼Œè¿˜å¯ä»¥å°†æ™®é€šçš„ npm æ¨¡å—å¯¼å‡ºä¸º loaderï¼Œåšæ³•æ˜¯åœ¨ package.json é‡Œå®šä¹‰ä¸€ä¸ª loader å­—æ®µã€‚</li>
<li>æ’ä»¶(plugin)å¯ä»¥ä¸º loader å¸¦æ¥æ›´å¤šç‰¹æ€§ã€‚</li>
<li>loader èƒ½å¤Ÿäº§ç”Ÿé¢å¤–çš„ä»»æ„æ–‡ä»¶ã€‚</li>
</ul>
<h2 id="è§£æloader"><a href="#è§£æloader" class="headerlink" title="è§£æloader"></a>è§£æloader</h2><p>loader éµå¾ªæ ‡å‡†çš„æ¨¡å—è§£æã€‚å¤šæ•°æƒ…å†µä¸‹ï¼Œloader å°†ä»æ¨¡å—è·¯å¾„ï¼ˆé€šå¸¸å°†æ¨¡å—è·¯å¾„è®¤ä¸ºæ˜¯ npm install, node_modulesï¼‰è§£æã€‚<br>loader æ¨¡å—éœ€è¦å¯¼å‡ºä¸ºä¸€ä¸ªå‡½æ•°ï¼Œå¹¶ä¸”ä½¿ç”¨ Node.js å…¼å®¹çš„ JavaScript ç¼–å†™ã€‚é€šå¸¸ä½¿ç”¨ npm è¿›è¡Œç®¡ç†ï¼Œä½†æ˜¯ä¹Ÿå¯ä»¥å°†è‡ªå®šä¹‰ loader ä½œä¸ºåº”ç”¨ç¨‹åºä¸­çš„æ–‡ä»¶ã€‚æŒ‰ç…§çº¦å®šï¼Œloader é€šå¸¸è¢«å‘½åä¸º xxx-loaderï¼ˆä¾‹å¦‚ json-loaderï¼‰ã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://zhangminggeek.github.io/2018/11/09/cjqtnagcq000wtycbs7hi5nhh/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zhangming">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="æ„ŸåŠ¨å¸¸åœ¨">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/09/cjqtnagcq000wtycbs7hi5nhh/" itemprop="url">webpackå­¦ä¹ ç¬”è®°ï¼ˆäºŒï¼‰ï¼šå…¥å£ã€å‡ºå£</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-11-09T14:49:45+08:00">
                2018-11-09
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/webpack/" itemprop="url" rel="index">
                    <span itemprop="name">webpack</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  1.2kå­—
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  4åˆ†é’Ÿ
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="å…¥å£èµ·ç‚¹-Entry-Points"><a href="#å…¥å£èµ·ç‚¹-Entry-Points" class="headerlink" title="å…¥å£èµ·ç‚¹(Entry Points)"></a>å…¥å£èµ·ç‚¹(Entry Points)</h1><h2 id="å•ä¸ªå…¥å£ï¼ˆç®€å†™ï¼‰è¯­æ³•"><a href="#å•ä¸ªå…¥å£ï¼ˆç®€å†™ï¼‰è¯­æ³•" class="headerlink" title="å•ä¸ªå…¥å£ï¼ˆç®€å†™ï¼‰è¯­æ³•"></a>å•ä¸ªå…¥å£ï¼ˆç®€å†™ï¼‰è¯­æ³•</h2><p>ç”¨æ³•ï¼š<code>entey: string|Array&lt;string&gt;</code><br><strong>webpack.config.js</strong><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  entry: <span class="string">'./path/to/my/entry/file.js'</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = config;</span><br></pre></td></tr></table></figure></p>
<p>entry å±æ€§çš„å•ä¸ªå…¥å£è¯­æ³•ï¼Œæ˜¯ä¸‹é¢çš„ç®€å†™ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  entry: &#123;</span><br><span class="line">    main: <span class="string">'./path/to/my/entry/file.js'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>å½“ä½ å‘ entry ä¼ å…¥ä¸€ä¸ªæ•°ç»„æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿå‘ entry å±æ€§ä¼ å…¥ã€Œæ–‡ä»¶è·¯å¾„(file path)æ•°ç»„ã€å°†åˆ›å»ºâ€œå¤šä¸ªä¸»å…¥å£(multi-main entry)â€ã€‚åœ¨ä½ æƒ³è¦å¤šä¸ªä¾èµ–æ–‡ä»¶ä¸€èµ·æ³¨å…¥ï¼Œå¹¶ä¸”å°†å®ƒä»¬çš„ä¾èµ–å¯¼å‘(graph)åˆ°ä¸€ä¸ªâ€œchunkâ€æ—¶ï¼Œä¼ å…¥æ•°ç»„çš„æ–¹å¼å°±å¾ˆæœ‰ç”¨ã€‚</p>
</blockquote>
<h2 id="å¯¹è±¡è¯­æ³•"><a href="#å¯¹è±¡è¯­æ³•" class="headerlink" title="å¯¹è±¡è¯­æ³•"></a>å¯¹è±¡è¯­æ³•</h2><p>ç”¨æ³•ï¼š<code>entry: {[entryChunkName: string]: string|Array&lt;string&gt;}</code><br><strong>webpack.config.js</strong><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  entry: &#123;</span><br><span class="line">    app: <span class="string">'./src/app.js'</span>,</span><br><span class="line">    vendors: <span class="string">'./src/vendors.js'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>â€œå¯æ‰©å±•çš„ webpack é…ç½®â€æ˜¯æŒ‡ï¼Œå¯é‡ç”¨å¹¶ä¸”å¯ä»¥ä¸å…¶ä»–é…ç½®ç»„åˆä½¿ç”¨ã€‚è¿™æ˜¯ä¸€ç§æµè¡Œçš„æŠ€æœ¯ï¼Œç”¨äºå°†å…³æ³¨ç‚¹(concern)ä»ç¯å¢ƒ(environment)ã€æ„å»ºç›®æ ‡(build target)ã€è¿è¡Œæ—¶(runtime)ä¸­åˆ†ç¦»ã€‚ç„¶åä½¿ç”¨ä¸“é—¨çš„å·¥å…·ï¼ˆå¦‚ webpack-mergeï¼‰å°†å®ƒä»¬åˆå¹¶ã€‚</p>
</blockquote>
<h2 id="å¸¸ç”¨åœºæ™¯"><a href="#å¸¸ç”¨åœºæ™¯" class="headerlink" title="å¸¸ç”¨åœºæ™¯"></a>å¸¸ç”¨åœºæ™¯</h2><h3 id="åˆ†ç¦»-åº”ç”¨ç¨‹åº-app-å’Œ-ç¬¬ä¸‰æ–¹åº“-vendor-å…¥å£"><a href="#åˆ†ç¦»-åº”ç”¨ç¨‹åº-app-å’Œ-ç¬¬ä¸‰æ–¹åº“-vendor-å…¥å£" class="headerlink" title="åˆ†ç¦» åº”ç”¨ç¨‹åº(app) å’Œ ç¬¬ä¸‰æ–¹åº“(vendor) å…¥å£"></a>åˆ†ç¦» åº”ç”¨ç¨‹åº(app) å’Œ ç¬¬ä¸‰æ–¹åº“(vendor) å…¥å£</h3><p><strong>è¿™æ˜¯ä»€ä¹ˆï¼Ÿ</strong>ä»è¡¨é¢ä¸Šçœ‹ï¼Œè¿™å‘Šè¯‰æˆ‘ä»¬ webpack ä» app.js å’Œ vendors.js å¼€å§‹åˆ›å»ºä¾èµ–å›¾(dependency graph)ã€‚è¿™äº›ä¾èµ–å›¾æ˜¯å½¼æ­¤å®Œå…¨åˆ†ç¦»ã€äº’ç›¸ç‹¬ç«‹çš„ï¼ˆæ¯ä¸ª bundle ä¸­éƒ½æœ‰ä¸€ä¸ª webpack å¼•å¯¼(bootstrap)ï¼‰ã€‚è¿™ç§æ–¹å¼æ¯”è¾ƒå¸¸è§äºï¼Œåªæœ‰ä¸€ä¸ªå…¥å£èµ·ç‚¹ï¼ˆä¸åŒ…æ‹¬ vendorï¼‰çš„å•é¡µåº”ç”¨ç¨‹åº(single page application)ä¸­ã€‚</p>
<p><strong>ä¸ºä»€ä¹ˆï¼Ÿ</strong>æ­¤è®¾ç½®å…è®¸ä½ ä½¿ç”¨ CommonsChunkPlugin ä»ã€Œåº”ç”¨ç¨‹åº bundleã€ä¸­æå– vendor å¼•ç”¨(vendor reference) åˆ° vendor bundleï¼Œå¹¶æŠŠå¼•ç”¨ vendor çš„éƒ¨åˆ†æ›¿æ¢ä¸º <strong>webpack_require</strong>() è°ƒç”¨ã€‚å¦‚æœåº”ç”¨ç¨‹åº bundle ä¸­æ²¡æœ‰ vendor ä»£ç ï¼Œé‚£ä¹ˆä½ å¯ä»¥åœ¨ webpack ä¸­å®ç°è¢«ç§°ä¸ºé•¿æ•ˆç¼“å­˜çš„é€šç”¨æ¨¡å¼</p>
<h3 id="å¤šé¡µé¢åº”ç”¨ç¨‹åº"><a href="#å¤šé¡µé¢åº”ç”¨ç¨‹åº" class="headerlink" title="å¤šé¡µé¢åº”ç”¨ç¨‹åº"></a>å¤šé¡µé¢åº”ç”¨ç¨‹åº</h3><p><strong>webpack.config.js</strong><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  entry: &#123;</span><br><span class="line">    pageOne: <span class="string">'./src/pageOne/index.js'</span>,</span><br><span class="line">    pageTwo: <span class="string">'./src/pageTwo/index.js'</span>,</span><br><span class="line">    pageThree: <span class="string">'./src/pageThree/index.js'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<p><strong>è¿™æ˜¯ä»€ä¹ˆï¼Ÿ</strong>æˆ‘ä»¬å‘Šè¯‰ webpack éœ€è¦ 3 ä¸ªç‹¬ç«‹åˆ†ç¦»çš„ä¾èµ–å›¾ï¼ˆå¦‚ä¸Šé¢çš„ç¤ºä¾‹ï¼‰ã€‚</p>
<p><strong>ä¸ºä»€ä¹ˆï¼Ÿ</strong>åœ¨å¤šé¡µåº”ç”¨ä¸­ï¼Œæ¯å½“é¡µé¢è·³è½¬æ—¶æœåŠ¡å™¨å°†ä¸ºä½ è·å–ä¸€ä¸ªæ–°çš„ HTML æ–‡æ¡£ã€‚é¡µé¢é‡æ–°åŠ è½½æ–°æ–‡æ¡£ï¼Œå¹¶ä¸”èµ„æºè¢«é‡æ–°ä¸‹è½½ã€‚ç„¶è€Œï¼Œè¿™ç»™äº†æˆ‘ä»¬ç‰¹æ®Šçš„æœºä¼šå»åšå¾ˆå¤šäº‹ï¼š</p>
<ul>
<li>ä½¿ç”¨ CommonsChunkPlugin ä¸ºæ¯ä¸ªé¡µé¢é—´çš„åº”ç”¨ç¨‹åºå…±äº«ä»£ç åˆ›å»º bundleã€‚ç”±äºå…¥å£èµ·ç‚¹å¢å¤šï¼Œå¤šé¡µåº”ç”¨èƒ½å¤Ÿå¤ç”¨å…¥å£èµ·ç‚¹ä¹‹é—´çš„å¤§é‡ä»£ç /æ¨¡å—ï¼Œä»è€Œå¯ä»¥æå¤§åœ°ä»è¿™äº›æŠ€æœ¯ä¸­å—ç›Šã€‚</li>
</ul>
<h1 id="è¾“å‡º-Output"><a href="#è¾“å‡º-Output" class="headerlink" title="è¾“å‡º(Output)"></a>è¾“å‡º(Output)</h1><h2 id="ç”¨æ³•"><a href="#ç”¨æ³•" class="headerlink" title="ç”¨æ³•"></a>ç”¨æ³•</h2><p>åœ¨ webpack ä¸­é…ç½® output å±æ€§çš„æœ€ä½è¦æ±‚æ˜¯ï¼Œå°†å®ƒçš„å€¼è®¾ç½®ä¸ºä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…æ‹¬ä»¥ä¸‹ä¸¤ç‚¹ï¼š</p>
<ul>
<li>filename ç”¨äºè¾“å‡ºæ–‡ä»¶çš„æ–‡ä»¶å</li>
<li>ç›®æ ‡è¾“å‡ºç›®å½• path çš„ç»å¯¹è·¯å¾„</li>
</ul>
<p><strong>webpack.config.js</strong><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  output: &#123;</span><br><span class="line">    filename: <span class="string">'bundle.js'</span>,</span><br><span class="line">    path: <span class="string">'/home/proj/public/assets'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = config;</span><br></pre></td></tr></table></figure></p>
<p>æ­¤é…ç½®å°†ä¸€ä¸ªå•ç‹¬çš„ bundle.js æ–‡ä»¶è¾“å‡ºåˆ° /home/proj/public/assets ç›®å½•ä¸­ã€‚</p>
<h2 id="å¤šä¸ªå…¥å£èµ·ç‚¹"><a href="#å¤šä¸ªå…¥å£èµ·ç‚¹" class="headerlink" title="å¤šä¸ªå…¥å£èµ·ç‚¹"></a>å¤šä¸ªå…¥å£èµ·ç‚¹</h2><p>å¦‚æœé…ç½®åˆ›å»ºäº†å¤šä¸ªå•ç‹¬çš„ â€œchunkâ€ï¼ˆä¾‹å¦‚ï¼Œä½¿ç”¨å¤šä¸ªå…¥å£èµ·ç‚¹æˆ–ä½¿ç”¨åƒ CommonsChunkPlugin è¿™æ ·çš„æ’ä»¶ï¼‰ï¼Œåˆ™åº”è¯¥ä½¿ç”¨å ä½ç¬¦(substitutions)æ¥ç¡®ä¿æ¯ä¸ªæ–‡ä»¶å…·æœ‰å”¯ä¸€çš„åç§°ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  entry: &#123;</span><br><span class="line">    app: <span class="string">'./src/app.js'</span>,</span><br><span class="line">    search: <span class="string">'./src/search.js'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  output: &#123;</span><br><span class="line">    filename: <span class="string">'[name].js'</span>,</span><br><span class="line">    path: __dirname + <span class="string">'/dist'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å†™å…¥åˆ°ç¡¬ç›˜ï¼š./dist/app.js, ./dist/search.js</span></span><br></pre></td></tr></table></figure></p>
<p><code>output.filename</code>ï¼šæ­¤é€‰é¡¹å†³å®šäº†æ¯ä¸ªè¾“å‡º bundle çš„åç§°ã€‚</p>
<p>å¯¹äºå•ä¸ªå…¥å£èµ·ç‚¹ï¼Œfilename ä¼šæ˜¯ä¸€ä¸ªé™æ€åç§°ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">filename: <span class="string">"bundle.js"</span></span><br></pre></td></tr></table></figure></p>
<p>å½“é€šè¿‡å¤šä¸ªå…¥å£èµ·ç‚¹(entry point)ã€ä»£ç æ‹†åˆ†(code splitting)æˆ–å„ç§æ’ä»¶(plugin)åˆ›å»ºå¤šä¸ª bundleï¼Œåº”è¯¥ä½¿ç”¨ä»¥ä¸‹ä¸€ç§æ›¿æ¢æ–¹å¼<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨å…¥å£åç§°ï¼š</span></span><br><span class="line">filename: <span class="string">"[name].bundle.js"</span></span><br><span class="line"><span class="comment">// ä½¿ç”¨å†…éƒ¨ chunk id</span></span><br><span class="line">filename: <span class="string">"[id].bundle.js"</span></span><br><span class="line"><span class="comment">// ä½¿ç”¨æ¯æ¬¡æ„å»ºè¿‡ç¨‹ä¸­ï¼Œå”¯ä¸€çš„ hash ç”Ÿæˆ</span></span><br><span class="line">filename: <span class="string">"[name].[hash].bundle.js"</span></span><br><span class="line"><span class="comment">// ä½¿ç”¨åŸºäºæ¯ä¸ª chunk å†…å®¹çš„ hashï¼š</span></span><br><span class="line">filename: <span class="string">"[chunkhash].bundle.js"</span></span><br></pre></td></tr></table></figure></p>
<h2 id="é«˜çº§è¿›é˜¶"><a href="#é«˜çº§è¿›é˜¶" class="headerlink" title="é«˜çº§è¿›é˜¶"></a>é«˜çº§è¿›é˜¶</h2><p>ä»¥ä¸‹æ˜¯ä½¿ç”¨ CDN å’Œèµ„æº hash çš„å¤æ‚ç¤ºä¾‹ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">output: &#123;</span><br><span class="line">  path: <span class="string">"/home/proj/cdn/assets/[hash]"</span>,</span><br><span class="line">  publicPath: <span class="string">"http://cdn.example.com/assets/[hash]/"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>åœ¨ç¼–è¯‘æ—¶ä¸çŸ¥é“æœ€ç»ˆè¾“å‡ºæ–‡ä»¶çš„ publicPath çš„æƒ…å†µä¸‹ï¼ŒpublicPath å¯ä»¥ç•™ç©ºï¼Œå¹¶ä¸”åœ¨å…¥å£èµ·ç‚¹æ–‡ä»¶è¿è¡Œæ—¶åŠ¨æ€è®¾ç½®ã€‚å¦‚æœä½ åœ¨ç¼–è¯‘æ—¶ä¸çŸ¥é“ publicPathï¼Œä½ å¯ä»¥å…ˆå¿½ç•¥å®ƒï¼Œå¹¶ä¸”åœ¨å…¥å£èµ·ç‚¹è®¾ç½® <code>__webpack_public_path__</code>ã€‚</p>
<p><code>output.publicPath</code>ï¼šæ­¤é€‰é¡¹æŒ‡å®šåœ¨æµè§ˆå™¨ä¸­æ‰€å¼•ç”¨çš„ã€Œæ­¤è¾“å‡ºç›®å½•å¯¹åº”çš„å…¬å¼€ URLã€ã€‚ç›¸å¯¹ URL(relative URL) ä¼šè¢«ç›¸å¯¹äº HTML é¡µé¢ï¼ˆæˆ– <base> æ ‡ç­¾ï¼‰è§£æã€‚ç›¸å¯¹äºæœåŠ¡çš„ URL(Server-relative URL)ï¼Œç›¸å¯¹äºåè®®çš„ URL(protocol-relative URL) æˆ–ç»å¯¹ URL(absolute URL) ä¹Ÿå¯æ˜¯å¯èƒ½ç”¨åˆ°çš„ï¼Œæˆ–è€…æœ‰æ—¶å¿…é¡»ç”¨åˆ°ï¼Œä¾‹å¦‚ï¼šå½“å°†èµ„æºæ‰˜ç®¡åˆ° CDN æ—¶ã€‚</p>
<p>è¯¥é€‰é¡¹çš„å€¼æ˜¯ä»¥ runtime(è¿è¡Œæ—¶) æˆ– loader(è½½å…¥æ—¶) æ‰€åˆ›å»ºçš„æ¯ä¸ª URL ä¸ºå‰ç¼€ã€‚å› æ­¤ï¼Œåœ¨å¤šæ•°æƒ…å†µä¸‹ï¼Œæ­¤é€‰é¡¹çš„å€¼éƒ½ä¼šä»¥/ç»“æŸã€‚</p>
<p>webpack-dev-server ä¹Ÿä¼šé»˜è®¤ä» publicPath ä¸ºåŸºå‡†ï¼Œä½¿ç”¨å®ƒæ¥å†³å®šåœ¨å“ªä¸ªç›®å½•ä¸‹å¯ç”¨æœåŠ¡ï¼Œæ¥è®¿é—® webpack è¾“å‡ºçš„æ–‡ä»¶ã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://zhangminggeek.github.io/2018/11/08/cjqtnag8u000btycbzjfvmefp/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zhangming">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="æ„ŸåŠ¨å¸¸åœ¨">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/08/cjqtnag8u000btycbzjfvmefp/" itemprop="url">webpackå­¦ä¹ ç¬”è®°ï¼ˆä¸€ï¼‰ï¼šæ¦‚å¿µ</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-11-08T18:27:56+08:00">
                2018-11-08
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/webpack/" itemprop="url" rel="index">
                    <span itemprop="name">webpack</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  918å­—
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  3åˆ†é’Ÿ
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="ä¸€ã€æ¦‚å¿µ"><a href="#ä¸€ã€æ¦‚å¿µ" class="headerlink" title="ä¸€ã€æ¦‚å¿µ"></a>ä¸€ã€æ¦‚å¿µ</h2><p>æœ¬è´¨ä¸Šï¼Œwebpack æ˜¯ä¸€ä¸ªç°ä»£ JavaScript åº”ç”¨ç¨‹åºçš„é™æ€æ¨¡å—æ‰“åŒ…å™¨(module bundler)ã€‚å½“ webpack å¤„ç†åº”ç”¨ç¨‹åºæ—¶ï¼Œå®ƒä¼šé€’å½’åœ°æ„å»ºä¸€ä¸ªä¾èµ–å…³ç³»å›¾(dependency graph)ï¼Œå…¶ä¸­åŒ…å«åº”ç”¨ç¨‹åºéœ€è¦çš„æ¯ä¸ªæ¨¡å—ï¼Œç„¶åå°†æ‰€æœ‰è¿™äº›æ¨¡å—æ‰“åŒ…æˆä¸€ä¸ªæˆ–å¤šä¸ª bundleã€‚</p>
<p>å››ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼š</p>
<ul>
<li>å…¥å£(entry)</li>
<li>è¾“å‡º(output)</li>
<li>loader</li>
<li>æ’ä»¶(plugins)</li>
</ul>
<h2 id="äºŒã€å…¥å£"><a href="#äºŒã€å…¥å£" class="headerlink" title="äºŒã€å…¥å£"></a>äºŒã€å…¥å£</h2><p><strong>å…¥å£èµ·ç‚¹</strong>æŒ‡ç¤º webpack åº”è¯¥ä½¿ç”¨å“ªä¸ªæ¨¡å—ï¼Œæ¥ä½œä¸ºæ„å»ºå…¶å†…éƒ¨ä¾èµ–å›¾çš„å¼€å§‹ã€‚å¯ä»¥é€šè¿‡åœ¨ webpack é…ç½®ä¸­é…ç½® entry å±æ€§ï¼Œæ¥æŒ‡å®šä¸€ä¸ªå…¥å£èµ·ç‚¹ï¼ˆæˆ–å¤šä¸ªå…¥å£èµ·ç‚¹ï¼‰ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  entry: <span class="string">'./path/to/my/entry/file.js'</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h2 id="ä¸‰ã€å‡ºå£"><a href="#ä¸‰ã€å‡ºå£" class="headerlink" title="ä¸‰ã€å‡ºå£"></a>ä¸‰ã€å‡ºå£</h2><p><strong>å‡ºå£</strong>å±æ€§å‘Šè¯‰ webpack åœ¨å“ªé‡Œè¾“å‡ºå®ƒæ‰€åˆ›å»ºçš„ bundlesï¼Œä»¥åŠå¦‚ä½•å‘½åè¿™äº›æ–‡ä»¶ï¼Œé»˜è®¤å€¼ä¸º ./distã€‚<br><strong>webpack.config.js</strong><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  entry: <span class="string">'./path/to/my/entry/file.js'</span>,</span><br><span class="line">  output: &#123;</span><br><span class="line">    path: path.resolve(__dirname, <span class="string">'dist'</span>),</span><br><span class="line">    filename: <span class="string">'my-first-webpack.bundle.js'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h2 id="å››ã€loader"><a href="#å››ã€loader" class="headerlink" title="å››ã€loader"></a>å››ã€loader</h2><p><strong>loader</strong>è®© webpack èƒ½å¤Ÿå»å¤„ç†é‚£äº›é JavaScript æ–‡ä»¶ï¼ˆwebpack è‡ªèº«åªç†è§£ JavaScriptï¼‰ã€‚æœ¬è´¨ä¸Šï¼Œwebpack loader å°†æ‰€æœ‰ç±»å‹çš„æ–‡ä»¶ï¼Œè½¬æ¢ä¸ºåº”ç”¨ç¨‹åºçš„ä¾èµ–å›¾ï¼ˆå’Œæœ€ç»ˆçš„ bundleï¼‰å¯ä»¥ç›´æ¥å¼•ç”¨çš„æ¨¡å—ã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼Œloader èƒ½å¤Ÿ import å¯¼å…¥ä»»ä½•ç±»å‹çš„æ¨¡å—ï¼ˆä¾‹å¦‚ .css æ–‡ä»¶ï¼‰ï¼Œè¿™æ˜¯ webpack ç‰¹æœ‰çš„åŠŸèƒ½ï¼Œå…¶ä»–æ‰“åŒ…ç¨‹åºæˆ–ä»»åŠ¡æ‰§è¡Œå™¨çš„å¯èƒ½å¹¶ä¸æ”¯æŒã€‚æˆ‘ä»¬è®¤ä¸ºè¿™ç§è¯­è¨€æ‰©å±•æ˜¯æœ‰å¾ˆå¿…è¦çš„ï¼Œå› ä¸ºè¿™å¯ä»¥ä½¿å¼€å‘äººå‘˜åˆ›å»ºå‡ºæ›´å‡†ç¡®çš„ä¾èµ–å…³ç³»å›¾ã€‚</p>
</blockquote>
<p>åœ¨æ›´é«˜å±‚é¢ï¼Œåœ¨ webpack çš„é…ç½®ä¸­ loader æœ‰ä¸¤ä¸ªç›®æ ‡ï¼š</p>
<ol>
<li>test å±æ€§ï¼Œç”¨äºæ ‡è¯†å‡ºåº”è¯¥è¢«å¯¹åº”çš„ loader è¿›è¡Œè½¬æ¢çš„æŸä¸ªæˆ–æŸäº›æ–‡ä»¶ã€‚</li>
<li>use å±æ€§ï¼Œè¡¨ç¤ºè¿›è¡Œè½¬æ¢æ—¶ï¼Œåº”è¯¥ä½¿ç”¨å“ªä¸ª loaderã€‚</li>
</ol>
<p><strong>webpack.config.js</strong><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  output: &#123;</span><br><span class="line">    filename: <span class="string">'my-first-webpack.bundle.js'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123; <span class="attr">test</span>: <span class="regexp">/\.txt$/</span>, <span class="attr">use</span>: <span class="string">'raw-loader'</span> &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = config;</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>é‡è¦çš„æ˜¯è¦è®°å¾—ï¼Œ<strong><em>åœ¨ webpack é…ç½®ä¸­å®šä¹‰ loader æ—¶ï¼Œè¦å®šä¹‰åœ¨ module.rules ä¸­ï¼Œè€Œä¸æ˜¯ rulesã€‚</em></strong>ç„¶è€Œï¼Œåœ¨å®šä¹‰é”™è¯¯æ—¶ webpack ä¼šç»™å‡ºä¸¥é‡çš„è­¦å‘Šã€‚ä¸ºäº†ä½¿ä½ å—ç›Šäºæ­¤ï¼Œå¦‚æœæ²¡æœ‰æŒ‰ç…§æ­£ç¡®æ–¹å¼å»åšï¼Œwebpack ä¼šâ€œç»™å‡ºä¸¥é‡çš„è­¦å‘Šâ€</p>
</blockquote>
<h2 id="äº”ã€æ’ä»¶"><a href="#äº”ã€æ’ä»¶" class="headerlink" title="äº”ã€æ’ä»¶"></a>äº”ã€æ’ä»¶</h2><p>æƒ³è¦ä½¿ç”¨ä¸€ä¸ªæ’ä»¶ï¼Œä½ åªéœ€è¦ require() å®ƒï¼Œç„¶åæŠŠå®ƒæ·»åŠ åˆ° plugins æ•°ç»„ä¸­ã€‚å¤šæ•°æ’ä»¶å¯ä»¥é€šè¿‡é€‰é¡¹(option)è‡ªå®šä¹‰ã€‚ä½ ä¹Ÿå¯ä»¥åœ¨ä¸€ä¸ªé…ç½®æ–‡ä»¶ä¸­å› ä¸ºä¸åŒç›®çš„è€Œå¤šæ¬¡ä½¿ç”¨åŒä¸€ä¸ªæ’ä»¶ï¼Œè¿™æ—¶éœ€è¦é€šè¿‡ä½¿ç”¨ new æ“ä½œç¬¦æ¥åˆ›å»ºå®ƒçš„ä¸€ä¸ªå®ä¾‹ã€‚<br><strong>webpack.config.js</strong><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">'html-webpack-plugin'</span>); <span class="comment">// é€šè¿‡ npm å®‰è£…</span></span><br><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>); <span class="comment">// ç”¨äºè®¿é—®å†…ç½®æ’ä»¶</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123; <span class="attr">test</span>: <span class="regexp">/\.txt$/</span>, <span class="attr">use</span>: <span class="string">'raw-loader'</span> &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> HtmlWebpackPlugin(&#123;<span class="attr">template</span>: <span class="string">'./src/index.html'</span>&#125;)</span><br><span class="line">  ]</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = config;</span><br></pre></td></tr></table></figure></p>
<h2 id="å…­ã€æ¨¡å¼"><a href="#å…­ã€æ¨¡å¼" class="headerlink" title="å…­ã€æ¨¡å¼"></a>å…­ã€æ¨¡å¼</h2><p>é€šè¿‡é€‰æ‹© development æˆ– production ä¹‹ä¸­çš„ä¸€ä¸ªï¼Œæ¥è®¾ç½® mode å‚æ•°ï¼Œä½ å¯ä»¥å¯ç”¨ç›¸åº”æ¨¡å¼ä¸‹çš„ webpack å†…ç½®çš„ä¼˜åŒ–ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  mode: <span class="string">'production'</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h2 id="ä¸ƒã€ä¾èµ–å›¾"><a href="#ä¸ƒã€ä¾èµ–å›¾" class="headerlink" title="ä¸ƒã€ä¾èµ–å›¾"></a>ä¸ƒã€ä¾èµ–å›¾</h2><p>ä»»ä½•æ—¶å€™ï¼Œä¸€ä¸ªæ–‡ä»¶ä¾èµ–äºå¦ä¸€ä¸ªæ–‡ä»¶ï¼Œwebpack å°±æŠŠæ­¤è§†ä¸ºæ–‡ä»¶ä¹‹é—´æœ‰ ä¾èµ–å…³ç³» ã€‚è¿™ä½¿å¾— webpack å¯ä»¥æ¥æ”¶éä»£ç èµ„æº(non-code asset)ï¼ˆä¾‹å¦‚å›¾åƒæˆ– web å­—ä½“ï¼‰ï¼Œå¹¶ä¸”å¯ä»¥æŠŠå®ƒä»¬ä½œä¸º _ä¾èµ–_ æä¾›ç»™ä½ çš„åº”ç”¨ç¨‹åºã€‚</p>
<p>webpack ä»å‘½ä»¤è¡Œæˆ–é…ç½®æ–‡ä»¶ä¸­å®šä¹‰çš„ä¸€ä¸ªæ¨¡å—åˆ—è¡¨å¼€å§‹ï¼Œå¤„ç†ä½ çš„åº”ç”¨ç¨‹åºã€‚ ä»è¿™äº› å…¥å£èµ·ç‚¹ å¼€å§‹ï¼Œwebpack é€’å½’åœ°æ„å»ºä¸€ä¸ª ä¾èµ–å›¾ ï¼Œè¿™ä¸ªä¾èµ–å›¾åŒ…å«ç€åº”ç”¨ç¨‹åºæ‰€éœ€çš„æ¯ä¸ªæ¨¡å—ï¼Œç„¶åå°†æ‰€æœ‰è¿™äº›æ¨¡å—æ‰“åŒ…ä¸ºå°‘é‡çš„ bundle - é€šå¸¸åªæœ‰ä¸€ä¸ª - å¯ç”±æµè§ˆå™¨åŠ è½½ã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://zhangminggeek.github.io/2018/11/04/cjqtnag7v0000tycbma89jxv3/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zhangming">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="æ„ŸåŠ¨å¸¸åœ¨">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/04/cjqtnag7v0000tycbma89jxv3/" itemprop="url">Markdownè¯­æ³•</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-11-04T20:42:40+08:00">
                2018-11-04
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/markdown/" itemprop="url" rel="index">
                    <span itemprop="name">markdown</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  605å­—
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  2åˆ†é’Ÿ
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="ä¸€ã€æ ‡é¢˜"><a href="#ä¸€ã€æ ‡é¢˜" class="headerlink" title="ä¸€ã€æ ‡é¢˜"></a>ä¸€ã€æ ‡é¢˜</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># ä¸€çº§æ ‡é¢˜</span><br><span class="line">## äºŒçº§æ ‡é¢˜</span><br><span class="line">### ä¸‰çº§æ ‡é¢˜</span><br><span class="line">#### å››çº§æ ‡é¢˜</span><br><span class="line">##### äº”çº§æ ‡é¢˜</span><br><span class="line">###### å…­çº§æ ‡é¢˜</span><br></pre></td></tr></table></figure>
<h2 id="äºŒã€å­—ä½“"><a href="#äºŒã€å­—ä½“" class="headerlink" title="äºŒã€å­—ä½“"></a>äºŒã€å­—ä½“</h2><ul>
<li><h3 id="åŠ ç²—"><a href="#åŠ ç²—" class="headerlink" title="åŠ ç²—"></a>åŠ ç²—</h3></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">**åŠ ç²—çš„æ–‡å­—**</span><br></pre></td></tr></table></figure>
<p><strong>åŠ ç²—çš„å­—ä½“</strong></p>
<ul>
<li><h3 id="æ–œä½“"><a href="#æ–œä½“" class="headerlink" title="æ–œä½“"></a>æ–œä½“</h3></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">*å€¾æ–œçš„æ–‡å­—*</span><br></pre></td></tr></table></figure>
<p><em>å€¾æ–œçš„æ–‡å­—</em></p>
<ul>
<li><h3 id="æ–œä½“åŠ ç²—"><a href="#æ–œä½“åŠ ç²—" class="headerlink" title="æ–œä½“åŠ ç²—"></a>æ–œä½“åŠ ç²—</h3></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">***æ–œä½“åŠ ç²—çš„æ–‡å­—***</span><br></pre></td></tr></table></figure>
<p><strong><em>æ–œä½“åŠ ç²—çš„æ–‡å­—</em></strong></p>
<ul>
<li><h3 id="åˆ é™¤çº¿"><a href="#åˆ é™¤çº¿" class="headerlink" title="åˆ é™¤çº¿"></a>åˆ é™¤çº¿</h3></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">~~åŠ åˆ é™¤çº¿çš„æ–‡å­—~~</span><br></pre></td></tr></table></figure>
<p><del>åŠ åˆ é™¤çº¿çš„æ–‡å­—</del></p>
<h2 id="ä¸‰ã€å¼•ç”¨"><a href="#ä¸‰ã€å¼•ç”¨" class="headerlink" title="ä¸‰ã€å¼•ç”¨"></a>ä¸‰ã€å¼•ç”¨</h2><p>åœ¨å¼•ç”¨çš„æ–‡å­—å‰åŠ &gt;å³å¯ï¼Œå¼•ç”¨ä¹Ÿå¯ä»¥åµŒå¥—ï¼Œå¦‚åŠ nä¸ª&gt;&gt;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;è¿™æ˜¯å¼•ç”¨çš„å†…å®¹</span><br><span class="line">&gt;&gt;è¿™æ˜¯å¼•ç”¨çš„å†…å®¹</span><br><span class="line">&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;è¿™æ˜¯å¼•ç”¨çš„å†…å®¹</span><br></pre></td></tr></table></figure></p>
<h2 id="å››ã€åˆ†å‰²çº¿"><a href="#å››ã€åˆ†å‰²çº¿" class="headerlink" title="å››ã€åˆ†å‰²çº¿"></a>å››ã€åˆ†å‰²çº¿</h2><p>ä¸‰ä¸ªæˆ–è€…ä¸‰ä¸ªä»¥ä¸Šçš„ - æˆ–è€… * éƒ½å¯ä»¥ï¼Œæ˜¾ç¤ºæ•ˆæœæ˜¯ä¸€æ ·çš„ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">----</span><br><span class="line">***</span><br><span class="line">****</span><br></pre></td></tr></table></figure></p>
<hr>
<h2 id="äº”ã€å›¾ç‰‡"><a href="#äº”ã€å›¾ç‰‡" class="headerlink" title="äº”ã€å›¾ç‰‡"></a>äº”ã€å›¾ç‰‡</h2><p>è¯­æ³•ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">![å›¾ç‰‡alt](å›¾ç‰‡åœ°å€ &apos;&apos;å›¾ç‰‡title&apos;&apos;)</span><br><span class="line"></span><br><span class="line">å›¾ç‰‡altå°±æ˜¯æ˜¾ç¤ºåœ¨å›¾ç‰‡ä¸‹é¢çš„æ–‡å­—ï¼Œç›¸å½“äºå¯¹å›¾ç‰‡å†…å®¹çš„è§£é‡Šã€‚</span><br><span class="line">å›¾ç‰‡titleæ˜¯å›¾ç‰‡çš„æ ‡é¢˜ï¼Œå½“é¼ æ ‡ç§»åˆ°å›¾ç‰‡ä¸Šæ—¶æ˜¾ç¤ºçš„å†…å®¹ã€‚titleå¯åŠ å¯ä¸åŠ </span><br></pre></td></tr></table></figure></p>
<p><img src="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1541348041923&amp;di=afe7489e2d740ed9168cf3eb047a66fc&amp;imgtype=0&amp;src=http%3A%2F%2Fimgsrc.baidu.com%2Fimgad%2Fpic%2Fitem%2F4034970a304e251fef35e3c2ac86c9177e3e53cd.jpg" alt="è¥¿æ¹–" title="è¥¿æ¹–"></p>
<h2 id="å…­ã€è¶…é“¾æ¥"><a href="#å…­ã€è¶…é“¾æ¥" class="headerlink" title="å…­ã€è¶…é“¾æ¥"></a>å…­ã€è¶…é“¾æ¥</h2><p>è¯­æ³•ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[è¶…é“¾æ¥å](è¶…é“¾æ¥åœ°å€ &quot;è¶…é“¾æ¥title&quot;)</span><br><span class="line">titleå¯åŠ å¯ä¸åŠ </span><br></pre></td></tr></table></figure></p>
<p><a href="http://google.com" target="_blank" rel="noopener">è°·æ­Œ</a></p>
<h2 id="ä¸ƒã€åˆ—è¡¨"><a href="#ä¸ƒã€åˆ—è¡¨" class="headerlink" title="ä¸ƒã€åˆ—è¡¨"></a>ä¸ƒã€åˆ—è¡¨</h2><ul>
<li><h3 id="æ— åºåˆ—è¡¨"><a href="#æ— åºåˆ—è¡¨" class="headerlink" title="æ— åºåˆ—è¡¨"></a>æ— åºåˆ—è¡¨</h3>è¯­æ³•ï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">- åˆ—è¡¨å†…å®¹</span><br><span class="line">+ åˆ—è¡¨å†…å®¹</span><br><span class="line">* åˆ—è¡¨å†…å®¹</span><br><span class="line"></span><br><span class="line">æ³¨æ„ï¼š- + * è·Ÿå†…å®¹ä¹‹é—´éƒ½è¦æœ‰ä¸€ä¸ªç©ºæ ¼</span><br></pre></td></tr></table></figure>
<ul>
<li><h3 id="æœ‰åºåˆ—è¡¨"><a href="#æœ‰åºåˆ—è¡¨" class="headerlink" title="æœ‰åºåˆ—è¡¨"></a>æœ‰åºåˆ—è¡¨</h3>è¯­æ³•ï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1.åˆ—è¡¨å†…å®¹</span><br><span class="line">2.åˆ—è¡¨å†…å®¹</span><br><span class="line">3.åˆ—è¡¨å†…å®¹</span><br><span class="line"></span><br><span class="line">æ³¨æ„ï¼š- + * è·Ÿå†…å®¹ä¹‹é—´éƒ½è¦æœ‰ä¸€ä¸ªç©ºæ ¼</span><br></pre></td></tr></table></figure>
<ul>
<li><h3 id="åˆ—è¡¨åµŒå¥—"><a href="#åˆ—è¡¨åµŒå¥—" class="headerlink" title="åˆ—è¡¨åµŒå¥—"></a>åˆ—è¡¨åµŒå¥—</h3>ä¸Šä¸€çº§å’Œä¸‹ä¸€çº§ä¹‹é—´æ•²ä¸‰ä¸ªç©ºæ ¼å³å¯</li>
<li>ä¸€çº§æ— åºåˆ—è¡¨å†…å®¹<ul>
<li>äºŒçº§æ— åºåˆ—è¡¨å†…å®¹</li>
<li>äºŒçº§æ— åºåˆ—è¡¨å†…å®¹</li>
</ul>
</li>
</ul>
<h2 id="å…«ã€è¡¨æ ¼"><a href="#å…«ã€è¡¨æ ¼" class="headerlink" title="å…«ã€è¡¨æ ¼"></a>å…«ã€è¡¨æ ¼</h2><p>è¯­æ³•ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">|è¡¨å¤´|è¡¨å¤´|è¡¨å¤´|</span><br><span class="line">|---|:--:|---:|</span><br><span class="line">|å†…å®¹|å†…å®¹|å†…å®¹|</span><br><span class="line">|å†…å®¹|å†…å®¹|å†…å®¹|</span><br><span class="line"></span><br><span class="line">ç¬¬äºŒè¡Œåˆ†å‰²è¡¨å¤´å’Œå†…å®¹ã€‚</span><br><span class="line">- æœ‰ä¸€ä¸ªå°±è¡Œï¼Œä¸ºäº†å¯¹é½ï¼Œå¤šåŠ äº†å‡ ä¸ª</span><br><span class="line">æ–‡å­—é»˜è®¤å±…å·¦</span><br><span class="line">-ä¸¤è¾¹åŠ ï¼šè¡¨ç¤ºæ–‡å­—å±…ä¸­</span><br><span class="line">-å³è¾¹åŠ ï¼šè¡¨ç¤ºæ–‡å­—å±…å³</span><br></pre></td></tr></table></figure></p>
<table>
<thead>
<tr>
<th>è¡¨å¤´</th>
<th style="text-align:center">è¡¨å¤´</th>
<th style="text-align:right">è¡¨å¤´</th>
</tr>
</thead>
<tbody>
<tr>
<td>å†…å®¹</td>
<td style="text-align:center">å†…å®¹</td>
<td style="text-align:right">å†…å®¹</td>
</tr>
<tr>
<td>å†…å®¹</td>
<td style="text-align:center">å†…å®¹</td>
<td style="text-align:right">å†…å®¹</td>
</tr>
</tbody>
</table>
<h2 id="ä¹ã€ä»£ç "><a href="#ä¹ã€ä»£ç " class="headerlink" title="ä¹ã€ä»£ç "></a>ä¹ã€ä»£ç </h2><p>è¯­æ³•ï¼š<br>å•è¡Œä»£ç ï¼šä»£ç ä¹‹é—´åˆ†åˆ«ç”¨ä¸€ä¸ªåå¼•å·åŒ…èµ·æ¥<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">`ä»£ç å†…å®¹`</span><br></pre></td></tr></table></figure></p>
<p>ä»£ç å—ï¼šä»£ç ä¹‹é—´åˆ†åˆ«ç”¨ä¸‰ä¸ªåå¼•å·åŒ…èµ·æ¥ï¼Œä¸”ä¸¤è¾¹çš„åå¼•å·å•ç‹¬å ä¸€è¡Œ<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(```)</span><br><span class="line">  ä»£ç ...</span><br><span class="line">  ä»£ç ...</span><br><span class="line">  ä»£ç ...</span><br><span class="line">(```)</span><br></pre></td></tr></table></figure></p>
<p>æ³¨ï¼šä¸ºäº†é˜²æ­¢è½¬è¯‘ï¼Œå‰åä¸‰ä¸ªåå¼•å·å¤„åŠ äº†å°æ‹¬å·ï¼Œå®é™…æ˜¯æ²¡æœ‰çš„ã€‚è¿™é‡Œåªæ˜¯ç”¨æ¥æ¼”ç¤ºï¼Œå®é™…ä¸­å»æ‰ä¸¤è¾¹å°æ‹¬å·å³å¯ã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image" src="/uploads/avatar.jpg" alt="zhangming">
          <p class="site-author-name" itemprop="name">zhangming</p>
           
              <p class="site-description motion-element" itemprop="description">ä¸€æšå‰ç«¯æ‰“å­—å‘˜</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">16</span>
                <span class="site-state-item-name">æ—¥å¿—</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">7</span>
                <span class="site-state-item-name">åˆ†ç±»</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">21</span>
                <span class="site-state-item-name">æ ‡ç­¾</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">zhangming</span>
</div>


<div class="powered-by">
  ç”± <a class="theme-link" href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨
</div>

<div class="theme-info">
  ä¸»é¢˜ -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>

  
  <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  

  
    <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  






  





  

  

  

  

  

  

</body>
</html>
